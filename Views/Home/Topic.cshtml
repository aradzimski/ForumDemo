@model ForumDemo.ViewModels.Main.TopicViewModel

@{
    ViewData["Title"] = Model.Topic.Title;
}

@if (User.Identity.IsAuthenticated)
{
    <a asp-controller="Home" asp-action="Reply" asp-route-id="@Model.Topic.Id">Reply</a>
}

<table class="table table-hover">
    <tbody>
        @foreach (var post in Model.Topic.Posts)
        {
        <tr>
            <td>
                @post.User.UserName
                <br />
                Posts: @post.User.PostCounter
            </td>
            <td>
                @post.Contents
            </td>
            @if (User.Identity.IsAuthenticated && post.User.UserName == User.Identity.Name)
                {
                    <td>
                        <a asp-controller="Home" asp-action="EditPost" asp-route-id="@post.Id">Edit</a>
                    </td>
                }
        </tr>
        }
    </tbody>
</table>
